<!DOCTYPE html>
<html><head>
	<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
	<title>テスト</title>
	<style type="text/css">
		body { margin: 0; overflow: hidden; background-color: rgb(255, 255, 128); }
		#root { display: flex; flex-direction: column; justify-content: center; align-items: center; }
		#root { position: absolute; left: 0; right: 0; top: 0; bottom: 0; }
	</style>
</head><body>
	<div id="root">
		<div>IEでも動かせそうなカメラ</div>
		<video id="video" width="240" height="240" autoplay playsinline ></video>
		<div><a href="https://temasys.atlassian.net/wiki/spaces/TWPP/overview">謎のプラグイン</a>を使っている</div>
		<a href="https://github.com/h-benzo-shimizu-liquid/sandbox/blob/master/docs/camera2.html">source</a>
	</div>
	<script type="text/javascript" src="https://cdn.temasys.com.sg/adapterjs/0.15.x/adapter.debug.js"></script>
	<script type="text/javascript">
// ----------------------------------------------------------------
// ----------------------------------------------------------------
// ----------------------------------------------------------------

AdapterJS.webRTCReady(function(isUsingPlugin) {
	console.log("test");
	getUserMedia({
		video: { facingMode: "environment" },
		audio: false,
	}, function(stream) {
		var video = document.getElementById("video");
		video = attachMediaStream(video, stream)
		console.log("success", video);
	}, function(error) {
		console.log("fail", error);
	});
});

// ----------------------------------------------------------------
// ----------------------------------------------------------------
// ----------------------------------------------------------------
	</script>
</body></html>
